\chapter{Introduction}\label{chap:introduction}

\section{Model-Driven Development in Education at NTNU}
% * NTNU, TDT4250, EMF in education, Eclipse IDE for EMF, shift from Eclipse to web with Theia/VSCode

\paragraph{In a world that becomes more digital for each day, there is a large need for software development.} Software is often created by writing code using programming languages that compile down to computer instructions. Developers write the code based on a set of requirements, and change it when the  requirements change.

\paragraph{One alternative approach to software development, is \acrfull{MDD}.}
This approach has the developers create models of their \gls{domain}, and this model drives the rest of the software development. 
The code is usually generated from the model. 
If the software requirements change, the model is updated first, and the code is re-generated.
The model itself is often one or more artifacts in the software project, expressed in a modeling language.
Modeling simplifies the \gls{domain} by using abstraction, and reduces the world down to the entities, relations, procedures (or other abstractions) that are needed to solve the relevant problems.


\paragraph{The \acrshort{MDD} approach is taught at \acrfull{NTNU}.}
The course is named \textit{\gls{TDT4250} Advanced Software Design}.
A modeling language called \textit{\gls{Ecore}} is used in \gls{TDT4250}.
This language comes from the \acrfull{EMF}.
The models can generate java code, and can extend the \gls{Eclipse} as a plugin.
The plugin lets a user enter data for a model instance by using \gls{Eclipse} as a user interface.
Students also learn to create \acrfullpl{DSL} with an \gls{Ecore} model as its core.

\paragraph{\Gls{Eclipse} is required to work with \acrshort{EMF} modeling.}
It has editors for \gls{Ecore}, code generation and model validation.
There are two main types of editors: hierarchical tree editors and graphical diagram editors.
There are also multiple different implementation on the tree editors, based on different underlying frameworks.

\paragraph{The reliance on \gls{Eclipse} is a problem for students.}
Students don't like to work in Eclipse, because of various issues with usability, errors or stability. %TODO: cite?
If a student wants to use \acrshort{EMF} afterwards in their job, they would have to use \gls{Eclipse}, and also convince their team to do it as well.
Some students see \acrshort{EMF} as being too \gls{Eclipse} related, as well, and incorrectly see it as a tool for only developing Eclipse plugins.
This results in students resisting to learn \acrshort{EMF}, and also \acrshort{MDD} by implication, because no \acrshort{EMF} alternative is taught.

\paragraph{\acrshort{NTNU} wants to move from \gls{Eclipse} to \gls{VSCode}  running in a web browser.}
This is a recent decision, and mainly for the course in Object Oriented Programming with java.
Some of the reasoning behind the change, is to avoid installation issues from \gls{Eclipse}, and to ease online collaboration through Github and publication of assignments. %TODO: cite?
\gls{VSCode} is an advanced text editor that has increased in popularity in the recent years.
It is based on web technologies, but normally runs as a desktop application.
A website and service called \textit{gitpod} allows running \gls{VSCode} in a web browser, and connect it to a workspace based on a Github repository.
The workspace has the project files, software development kits and other tools already installed and running in a remote machine in the \gls{cloud}.
This avoids all installation on a student's machine.

\paragraph{For \gls{TDT4250} to follow suit and move to gitpod, the \gls{Ecore} editors would have to be available in \gls{VSCode} as well.}
The current situation is that there are no \gls{Ecore} editors for \gls{VSCode}.
There are also no known \acrshort{MDD} frameworks for \gls{VSCode} that integrates with the other curriculum of \gls{TDT4250} either, as alternatives to \acrshort{EMF}.


\section{The Eclipse Ecosystem Wants to Run Software in the Cloud}
%* Eclipse ecosystem is moving to the cloud, EMF.Cloud, GLSP, Theia, gitpod, Sprotty.
%  * Pre-project identified that the main actors are Typefox, EclipseSource, RedHat, Obeo
%  * Main focus on development, not the developer; code in Eclipse and run in cloud

\paragraph{The \acrlong{EMF} is powered by \gls{open source} software and an ecosystem of developers.}
The framework has many tools and software libraries available, contributed by various developers and organizations.
These developers and organizations, is what this thesis nicknames the \textit{Eclipse Ecosystem}.
Some prominent actors are the organizations \textit{Typefox}, \textit{EclipseSource} (with Dr.\ Jonas Helming and Maximilian Koegel), \textit{Obeo} and \textit{RedHat}~\cite{rekstadModelingEnvironmentCloud2020}.
For example, \textit{gitpod} is developed by Typefox, and one of the \gls{Eclipse} tree editors for \gls{Ecore} is created by EclipseSource.

\paragraph{\Gls{cloud} is becoming more popular, and the Eclipse Ecosystem is heading there.}
When something \textit{runs in the \gls{cloud}}, it really means that it runs on rented computers in a data center somewhere outside of the organization.
Running in the cloud is a win for developers and organizations, because they don't need to take care of their own hardware.
And scaling up to more computers is as easy as clicking a button, or often happens automatically with load balancing technology.
No more purchasing of hardware and configuring it.
When developers ``embrace'' the \gls{cloud}, it also means working more with web technologies and less with desktop applications.

\paragraph{To use \acrshort{EMF} in the cloud, the Eclipse ecosystem has started to create new tools.}
Most of the tools are related to \textbf{running} \acrshort{EMF}-based software, but not \textbf{developing} it.
There are \textit{some} advances to developing in the cloud, with \textit{gitpod} and the \gls{VSCode} re-implementation \textit{\gls{Theia}}, but neither have tools for \acrshort{EMF}.


\section{A Pre-project Identified a Need for a Tree Editor}

\paragraph{This masters thesis is preceeded by a pre-project thesis.}
This work happened during the Autumn of 2020, the semester before this masters thesis.
The project began by identifying what to build.
The need for \acrshort{EMF} editing in the \gls{cloud} was known, but not how to do it or if it was even possible.

\paragraph{The pre-project identified a need for a web-based tree editor for working with \acrshort{EMF}.}
Early plans were to create a diagram editor, inspired by \textit{\gls{UML} Class Diagrams} and the \gls{Eclipse} diagram editor for \gls{Ecore} named \textit{Ecore Tools} (based on \textit{Sirius} by aforementioned Obeo)~\cite{rekstadModelingEnvironmentCloud2020}.

% EclipseCon, GLSP, Ecore GLSP, Theia extension, gitpod, 

\paragraph{Initial requirements for a tree editor were found.}
% non-functional. functional.
% EMF big. Open source, maintenance.
% Functional.

\paragraph{A software architecture and protocol emerged by analysing similar solutions.}
% LSP. GLSP. 

\paragraph{The pre-project used prototypes to verify the feasibility of the architecture.}

\paragraph{More work was needed in order to evaluate the pre-project solution.}
% Not connected end-to-end. Not usable.

* The pre-project identified a need for a web-based tree editor to work with EMF. It suggested an architecture and design. The ecosystem is already working on graphical editors for EMF, as presented on EclipseCon2020.
  * Some early identified requirements:
    * EMF is big, we don't want to re-implement it. Focus on re-use of existing software
    * Open Source, to increase the chance of adoption and further improvement. The solution will require more work than a single semester.
    * Special needs for project management, because it must be maintained and improved over a longer period of time.
  * Functional requirements were extracted in pre-project from Eclipse IDE's EMF tree editors.
    * View models of different levels, from Ecore metamodel to model instances.
    * View model as a tree based on containment properties.
    * Create empty model files with the minimum file contents.
    * Edit model hierarchies by creating, deleting or moving tree nodes.
    * Edit tree node properties by using a form-based editor.
    * Saving model changes to xmi files.
    * Validation of models.
    * Generation of code from models.
  * Non-functional requirements from empirical evidence, to increase the chance of project adoption of the Eclipse ecosystem.
    * Flexibility - customize rendering and logic for different models.
    * Configurability - alter or toggle behavior per-project based on config files.
    * Conforming to existing architectures that are empirically validated, and familiar to the Eclipse ecosystem developers.
    * Legal - open source licence. No use of incompatible license (e.g. GPL)
    * Compatibility - run in Theia and VSCode


% Research objectives ?
%TODO

% Thesis structure ?
%TODO